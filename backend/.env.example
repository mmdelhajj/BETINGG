# ============================================================================
# CryptoBet Backend — Environment Variables
# ============================================================================
# Copy this file to .env and fill in the values for your environment.
#   cp .env.example .env
# ============================================================================

# ─── Server ─────────────────────────────────────────────────────────────────

# Port the Fastify server listens on
PORT=3001

# Application environment: development | production | test
NODE_ENV=development

# ─── Database ───────────────────────────────────────────────────────────────

# PostgreSQL connection string used by Prisma ORM
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/cryptobet?schema=public

# ─── Redis ──────────────────────────────────────────────────────────────────

# Redis connection URL — used for caching, BullMQ job queues, and pub/sub
REDIS_URL=redis://localhost:6379

# ─── JWT Authentication ─────────────────────────────────────────────────────

# Secret key for signing JWT access tokens (change this in production!)
JWT_SECRET=your-jwt-secret-change-me-in-production

# Secret key for signing JWT refresh tokens (must differ from JWT_SECRET)
JWT_REFRESH_SECRET=your-jwt-refresh-secret-change-me-in-production

# Access token lifespan (e.g., "15m", "1h")
JWT_ACCESS_EXPIRY=15m

# Refresh token lifespan (e.g., "7d", "30d")
JWT_REFRESH_EXPIRY=7d

# ─── OAuth — Google ─────────────────────────────────────────────────────────

# Google OAuth 2.0 credentials from https://console.cloud.google.com/
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# The URL Google redirects to after authentication
GOOGLE_CALLBACK_URL=http://localhost:3001/api/auth/google/callback

# ─── OAuth — GitHub ─────────────────────────────────────────────────────────

# GitHub OAuth App credentials from https://github.com/settings/developers
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# The URL GitHub redirects to after authentication
GITHUB_CALLBACK_URL=http://localhost:3001/api/auth/github/callback

# ─── Frontend ───────────────────────────────────────────────────────────────

# URL of the frontend app — used for CORS origin and OAuth redirect
FRONTEND_URL=http://localhost:3000

# ─── External APIs — Pricing ────────────────────────────────────────────────

# CoinGecko API base URL for cryptocurrency price feeds
COINGECKO_API_URL=https://api.coingecko.com/api/v3

# ─── External APIs — Odds Providers ─────────────────────────────────────────

# API key for The Odds API (https://the-odds-api.com/)
# Used to fetch real-time sportsbook odds from multiple bookmakers
THE_ODDS_API_KEY=

# API key for Goalserve (https://www.goalserve.com/)
# Used as a secondary odds and live scores provider
GOALSERVE_API_KEY=

# ─── MoonPay — Fiat On-Ramp ─────────────────────────────────────────────────

# MoonPay integration for fiat-to-crypto purchases
# Get keys from https://dashboard.moonpay.com/
MOONPAY_API_KEY=
MOONPAY_SECRET=

# ─── SMTP — Email ───────────────────────────────────────────────────────────

# SMTP server hostname (e.g., smtp.gmail.com, smtp.sendgrid.net)
SMTP_HOST=smtp.gmail.com

# SMTP server port (587 for TLS, 465 for SSL, 25 for unencrypted)
SMTP_PORT=587

# SMTP authentication username
SMTP_USER=

# SMTP authentication password or app-specific password
SMTP_PASS=

# "From" address used in outgoing emails
SMTP_FROM=noreply@cryptobet.com
