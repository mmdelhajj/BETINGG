# =============================================================================
# CryptoBet Platform — Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values for your environment.
#   cp .env.example .env
#
# IMPORTANT: Never commit the .env file to version control.
# =============================================================================


# =============================================================================
# APPLICATION
# =============================================================================

# Application environment: development | production | test
NODE_ENV=development

# Application name displayed in the UI and emails
APP_NAME=CryptoBet


# =============================================================================
# DATABASE — PostgreSQL
# =============================================================================

# Password for the PostgreSQL cryptobet user (change in production!)
DB_PASSWORD=cryptobet_secret

# Port to expose PostgreSQL on the host (default: 5432)
DB_PORT=5432

# Full connection string (constructed automatically in docker-compose,
# but set this if running the backend outside Docker)
# DATABASE_URL=postgresql://cryptobet:cryptobet_secret@localhost:5432/cryptobet?schema=public


# =============================================================================
# CACHE / QUEUES — Redis
# =============================================================================

# Redis password (leave empty for no password in development)
REDIS_PASSWORD=

# Port to expose Redis on the host (default: 6379)
REDIS_PORT=6379

# Full Redis URL (constructed automatically in docker-compose,
# but set this if running the backend outside Docker)
# REDIS_URL=redis://localhost:6379


# =============================================================================
# BACKEND SERVER
# =============================================================================

# Port the Fastify backend listens on
BACKEND_PORT=3001


# =============================================================================
# FRONTEND SERVER
# =============================================================================

# Port the Next.js frontend listens on
FRONTEND_PORT=3000


# =============================================================================
# JWT AUTHENTICATION
# =============================================================================

# Secret key for signing JWT access tokens
# IMPORTANT: Generate a strong random string for production (at least 64 chars)
#   openssl rand -hex 64
JWT_SECRET=your-super-secret-jwt-key-change-in-production

# Secret key for signing JWT refresh tokens (must differ from JWT_SECRET)
#   openssl rand -hex 64
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production

# Access token lifespan (e.g., "15m", "1h")
JWT_ACCESS_EXPIRY=15m

# Refresh token lifespan (e.g., "7d", "30d")
JWT_REFRESH_EXPIRY=7d


# =============================================================================
# OAUTH — Google
# =============================================================================

# Google OAuth 2.0 credentials
# Obtain from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# The URL Google redirects to after authentication
GOOGLE_CALLBACK_URL=http://localhost:3001/api/auth/google/callback


# =============================================================================
# OAUTH — GitHub
# =============================================================================

# GitHub OAuth App credentials
# Obtain from: https://github.com/settings/developers
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# The URL GitHub redirects to after authentication
GITHUB_CALLBACK_URL=http://localhost:3001/api/auth/github/callback


# =============================================================================
# URLS
# =============================================================================

# Public URL of the frontend app (used for CORS origin, OAuth redirects, emails)
FRONTEND_URL=http://localhost:3000

# Public URL of the API (used by the frontend to make API calls)
API_URL=http://localhost:3001

# Public WebSocket URL (used by the frontend for Socket.IO connections)
WS_URL=http://localhost:3001


# =============================================================================
# EXTERNAL APIs — Cryptocurrency Pricing
# =============================================================================

# CoinGecko API base URL for cryptocurrency price feeds
COINGECKO_API_URL=https://api.coingecko.com/api/v3

# CoinGecko Pro API key (optional, for higher rate limits)
# Obtain from: https://www.coingecko.com/en/api/pricing
COINGECKO_API_KEY=


# =============================================================================
# EXTERNAL APIs — Odds Providers
# =============================================================================

# The Odds API — real-time sportsbook odds from multiple bookmakers
# Obtain from: https://the-odds-api.com/
THE_ODDS_API_KEY=

# Goalserve — secondary odds and live scores provider
# Obtain from: https://www.goalserve.com/
GOALSERVE_API_KEY=


# =============================================================================
# MOONPAY — Fiat On-Ramp
# =============================================================================

# MoonPay integration for fiat-to-crypto purchases
# Obtain from: https://dashboard.moonpay.com/
MOONPAY_API_KEY=
MOONPAY_SECRET=


# =============================================================================
# SMTP — Email
# =============================================================================

# SMTP server hostname (e.g., smtp.gmail.com, smtp.sendgrid.net, smtp.mailgun.org)
SMTP_HOST=smtp.gmail.com

# SMTP server port (587 for TLS, 465 for SSL, 25 for unencrypted)
SMTP_PORT=587

# SMTP authentication username
SMTP_USER=

# SMTP authentication password or app-specific password
SMTP_PASS=

# "From" address used in outgoing emails
SMTP_FROM=noreply@cryptobet.com


# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable Google OAuth login (true/false)
ENABLE_GOOGLE_OAUTH=false

# Enable/disable GitHub OAuth login (true/false)
ENABLE_GITHUB_OAUTH=false

# Enable/disable the sportsbook module (true/false)
ENABLE_SPORTSBOOK=true

# Enable/disable the casino module (true/false)
ENABLE_CASINO=true

# Enable/disable the live betting feature (true/false)
ENABLE_LIVE_BETTING=true

# Enable/disable the virtual sports module (true/false)
ENABLE_VIRTUAL_SPORTS=false

# Enable/disable the fiat on-ramp via MoonPay (true/false)
ENABLE_FIAT_ONRAMP=false

# Enable/disable the KYC verification system (true/false)
ENABLE_KYC=true

# Enable/disable geo-restriction checking (true/false)
ENABLE_GEO_RESTRICTION=false

# Enable/disable email notifications (true/false)
ENABLE_EMAIL_NOTIFICATIONS=false

# Enable/disable the blog/CMS module (true/false)
ENABLE_BLOG=true

# Enable/disable the help center module (true/false)
ENABLE_HELP_CENTER=true

# Enable/disable the betting academy module (true/false)
ENABLE_ACADEMY=true

# Enable/disable the affiliate program (true/false)
ENABLE_AFFILIATES=false

# Maintenance mode — shows a maintenance page to all users (true/false)
MAINTENANCE_MODE=false


# =============================================================================
# SECURITY
# =============================================================================

# Allowed origins for CORS (comma-separated)
# Example: http://localhost:3000,https://cryptobet.com
CORS_ORIGINS=http://localhost:3000

# Rate limit: max requests per minute per IP for general API
RATE_LIMIT_MAX=100

# Rate limit: window duration in milliseconds
RATE_LIMIT_WINDOW=60000

# Session secret for cookie signing (generate with: openssl rand -hex 32)
SESSION_SECRET=change-me-in-production

# Encryption key for sensitive data at rest (generate with: openssl rand -hex 32)
ENCRYPTION_KEY=change-me-in-production


# =============================================================================
# LOGGING & MONITORING
# =============================================================================

# Log level: fatal | error | warn | info | debug | trace
LOG_LEVEL=info

# Enable structured JSON logging (true for production, false for pretty dev logs)
LOG_JSON=false

# Sentry DSN for error tracking (optional)
# Obtain from: https://sentry.io/
SENTRY_DSN=
